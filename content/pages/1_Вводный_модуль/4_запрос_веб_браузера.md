---
Title: Запрос веб-браузера
Sort: 4
---

В этом уроке вы узнаете, из чего состоит запрос веб-браузера к веб-серверу, что такое протокол и что он должен в себя включать.

### Протокол HTTP

В ресторанах соблюдают особый этикет: вилки должны лежать слева от тарелки, а ножи и ложка для первого блюда — справа. Компьютеры при взаимодействии друг с другом тоже соблюдают этикет. Он называется протоколом.

✅ Компьютерный протокол — это набор правил, которые компьютеры должны соблюдать при обмене данными. Компьютерный протокол, как и этикет, регламентирует формат общения, и нарушать его нельзя

При общении клиента и сервера через сеть Интернет, где как раз взаимодействуют Яндекс Маркет и сайт интернет-магазина посуды, правила формирования запроса (правила обращения веб-браузера к веб-серверу) устанавливает протокол HTTP.

**HTTP (Hypertext Transfer Protocol)** — это основной протокол для обмена данными между компьютерами в сети Интернет. Это сочетание из четырёх букв — HTTP — видел каждый, кто выходит в интернет через веб-браузер, ведь именно с названия протокола начинаются адреса веб-сайтов. Как только вы вводите адрес сайта с http://, веб-браузер понимает, что для общения с веб-сервером нужно соблюдать протокол HTTP.

Сейчас гораздо чаще встречаются адреса, которые начинаются с https:// . Например, адрес веб-сайта Яндекс Практикума https://practicum.yandex.ru как раз включает в себя https.
HTTPS или Hypertext Transfer Protocol Secure — это «младший брат» HTTP, который серьёзнее относится к вашей безопасности в сети: он шифрует часть передаваемых данных от злоумышленников, не давая им их прочитать

HTTP-запрос клиента к веб-серверу должен включать:
- URL.
- Метод.
- Заголовки.
- Тело.

<img src="%base_url%/images/FT-L04-01_1654002184.png"/>
<br><br>

Как может выглядеть HTTP-запрос, когда браузер отправляет его на сервер? Например, так:

<img src="%base_url%/images/CA-00-FreeTrack_FT-L04-11_1656601726.png"/>
<br><br>

### URL

Чтобы получить данные об отзывах, мы должны знать, где веб-сервер их хранит, то есть знать адрес ресурса — **URL (Uniform Resource Locator)**.

<img src="%base_url%/images/FT-L04-02_1654002210.png"/>
<br><br>

### Как определить адрес ресурса?

Рассмотрим на примере столового этикета, который устанавливает правила сервировки стола. Самое важное в сервировке — правильно расположить посуду и приборы.

Каждому гостю, к примеру, полагается пять вилок: для салата, для рыбы, для мяса, для морепродуктов и десертная. Благодаря правилам сервировки гость знает: вилка, которая расположена справа от тарелки, предназначена для морепродуктов, над тарелкой — для десерта.

<img src="%base_url%/images/FT-L04-06_1654002234.png"/>
<br><br>

Так же веб-браузер знает расположение данных и может их использовать. Данные, которые хранит веб-сервер, называются ресурсами. Ресурсами могут быть веб-страницы, изображения, видео, а также данные об отзывах.

Веб-страницу, на которой вы сейчас находитесь, хранит веб-сервер Яндекс Практикума. Любой веб-браузер может запросить её у веб-сервера для просмотра. Веб-сайт же состоит из множества веб-страниц.

Веб-сервер хранит ресурсы в виде иерархии. Иерархию можно представить как папку со множеством вложенных папок, в которые также входит множество папок и так далее. Как именно ресурсы будут располагаться на веб-сервере, зависит от решения разработчиков.

Например, так:

<img src="%base_url%/images/FT-L04-07_1654002267.png"/>
<br><br>

Или так:

<img src="%base_url%/images/FT-L04-08_1654002284.png"/>
<br><br>

Используя иерархию, можно описать место любого предмета. Например, вилки для морепродуктов: «стол/справа от тарелки/вилка для морепродуктов» или «стол/вилка/для морепродуктов».

Место на веб-сервере, где хранится ресурс, и называется URL. Посмотрим на URL с веб-сайта Яндекс Практикума:
- https://practicum.yandex.ru/
- https://practicum.yandex.ru/systems-analyst/
- https://practicum.yandex.ru/qa-engineer/

Мы уже знаем, что https в начале URL — это сигнал веб-браузеру, что общаться с веб-сервером он должен в соответствии с правилами протокола HTTP (HTTPS обычно приравнивают к HTTP).

После названия протокола следует название веб-сервера — practicum.yandex.ru. Сразу за названием веб-сервера — путь до ресурса на веб-сервере: /systems-analyst или /qa-engineer. С помощью URL https://practicum.yandex.ru/systems-analyst/ мы можем описать путь до веб-страницы курса «Системный аналитик», а с помощью URL https://practicum.yandex.ru/qa-engineer/ — до веб-страницы курса «Инженер по тестированию».

### Метод

Веб-браузер может по-разному использовать данные, которые хранит веб-сервер. Веб-браузер может запросить у веб-сервера ресурс для просмотра, редактирования или удаления. Он также может передать веб-серверу новые данные для хранения, то есть попросить веб-сервер создать ресурс.

Действие, которое веб-сервер должен сделать, чтобы удовлетворить запрос веб-браузера, называется методом. Чтобы получить данные об отзывах, нужно понимать, какие действия над ресурсами может совершать веб-сервер и какие методы HTTP-запроса им соответствуют.

<img src="%base_url%/images/FT-L04-03_1654064149.png"/>
<br><br>

### Основные методы, которые предоставляет HTTP

1. POST — создание ресурса. Веб-браузер передаёт на веб-сервер определённый ресурс, который он должен записать у себя определённым образом.
1. GET — чтение ресурса. Веб-браузер запрашивает у веб-сервера определённый ресурс и получает его в ответ. Например, когда вы открываете главную страницу веб-сайта Яндекс Практикума, ваш веб-браузер использует метод GET.
3. PUT — замена ресурса. Веб-браузер может заменить существующий на веб-сервере ресурс.
4. DELETE — удаление ресурса. Веб-браузер может удалить ресурс с веб-сервера.

### Заголовки

В заголовках веб-браузер собирает для веб-сервера техническую информацию, например о размере тела запроса, о языке пользователя (русском, английском или другом) и прочие важные параметры.

<img src="%base_url%/images/FT-L04-04_1654064178.png"/>
<br><br>

Заголовок не отображается для пользователя и не понадобится для того, чтобы получить данные об отзывах. Но заголовки важны для общения веб-сервера и веб-браузера. Именно из заголовка веб-сервер, например, узнает, что веб-браузер запросил мобильную версию веб-сайта, если вы зашли на страницу Практикума с телефона.

Как может выглядеть заголовок? Например, вот так:

```
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5 (.NET CLR 3.5.30729)
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-us,en;q=0.5
```

Из этого заголовка веб-сервер узнает, что используется браузер Mozilla Firefox на устройстве с операционной системой Windows, а язык пользователя — английский.

### Тело

Чтобы получить данные об отзывах, мы должны знать, какие данные веб-браузер может передать веб-серверу в HTTP-запросе. Эти данные называются телом запроса.

<img src="%base_url%/images/FT-L04-05_1654064203.png"/>
<br><br>

Не все HTTP-запросы включают тело. Тело включают только HTTP-запросы с методами POST и PUT — веб-браузер должен передать веб-серверу данные о ресурсах, которые веб-сервер должен создать или изменить. В HTTP-запросах с методами GET и DELETE, то есть в запросах на чтение и удаление ресурсов, тело не добавляется — достаточно адреса запрашиваемого ресурса, метода и заголовков.

Веб-браузер должен оформить данные в теле HTTP-запроса так, чтобы веб-сервер мог их понять. HTTP-протокол позволяет веб-браузеру и веб-серверу использовать только определённые форматы обмена данными: JSON, XML, CSV и другие.

Самый популярный формат обмена данными — это JSON или **нотация** объектов JavaScript (JavaScript Object Notation). Свою популярность он заслужил простотой.

JSON определяет правила описания объектов. **Объект (Object)** — это некоторое понятие предметной области. Например, объектом может быть бокал из королевского сервиза.

В соответствии с JSON начало и конец объекта обозначаются фигурными скобками.

```
{

}
```

Один объект от другого можно отличить благодаря их свойствам. Например, бокал отличается от тарелки объёмом, материалом, формой. Свойства объекта называются ключом (Key). Каждый объект содержит один или несколько ключей. Каждый ключ содержит одно или несколько значений (Value). Например, свойства бокала можно описать так:

| Ключ | Значение |
| --- | ----| 
Форма |	«Тюльпан»
Объём в миллилитрах | 300
Материал |	Хрусталь, позолота

В соответствии с JSON ключ заключается в кавычки, а после ключа ставится двоеточие. Если значение ключа описывается словом, его тоже заключают в кавычки. Если значение ключа описывается числом, кавычки не нужны. Если у ключа множество значений, начало и конец множества обозначаются квадратными скобками, а значения разделяются запятой. Несколько пар «ключ/значение» тоже разделяются запятой.

```
{
   "key_1": "value_1",
   "key_2": 300,
   "key_3": ["value_2", "value_3"]
}
```

А если добавить сюда значения из таблицы выше, то получится так:

```
{
   "shape": "тюльпан",
   "volume": 300,
   "material": ["хрусталь", "позолота"]
}
```

Значение ключа также можно представить, как объект, состоящий из объектов. Что это значит? Например, производитель — одно из свойств бокала, у которого также можно выделить несколько свойств: название, страна и прочие. В JSON подобная вложенность заключается в отдельные фигурные скобки (как для обозначения начала и конца объекта), а свойства внутри неё так же берут в кавычки и отделяются запятыми:

```
{
 "key_1": "value_1",
 "key_2": {
   "key_3": "property_1",
   "key_4": "property_2",
  }
}
```

Ключ (key_1, key_2 и прочие) всегда прописывается на латинице, а его значение может быть на любом языке, так как это контент, который будет отображаться пользователю.

Для нашего примера JSON может выглядеть так:

```
{
 "shape": "тюльпан",
 "vendor": {
   "name": "Королевская хрустальная мануфактура",
   "country": "Великобритания",
  }
}
```

