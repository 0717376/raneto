---
Title: Стиль запроса
Sort: 6
---

Во многих языках программирования есть правила хорошего стиля: использовать нижний регистр, разделять слова нижним подчёркиванием. Эти правила упрощают работу с чужим кодом и не только: чтобы разобраться в собственном коде через пару недель, вам тоже понадобятся комментарии. 

В SQL тоже есть правила стиля. Но SQL — язык, не чувствительный к регистру, значит, между операторами `SELECT` и `select` нет разницы. Казалось бы, зачем тогда соблюдать правила стиля. Но постепенно вы начнёте писать более сложные запросы, и в них не так легко будет разобраться.

Запрос к базе данных может выглядеть так:

```SQL
select sp.advertising_id,sp.install_date,sp.session_num,sp.payer,sp.last_active as last_date, DATE_DIFF(sp.last_active, install_date, day) as max_play from players as sp where sp.date = '2021-02-28' and sp.install_date between '2021-02-01' and '2021-02-26';
```

Этот запрос выдаст то что нужно, но даже квалифицированный специалист с трудом прочитает такой код. 

Так будет выглядеть этот запрос, написанный по правилам:

```SQL
SELECT sp.advertising_id,
       sp.install_date,
       sp.session_num,
       sp.payer,
       sp.last_active AS last_date,
       DATE_DIFF(sp.last_active, install_date, DAY) AS max_play
FROM players AS sp
WHERE sp.date = '2021-02-28'
  AND sp.install_date BETWEEN '2021-02-01' AND '2021-02-26';
```

Действительно, стало лучше. Разберём, что же изменилось.

Первое правило — писать операторы в верхнем регистре, чтобы визуально отделить их от ключевых слов. Поэтому в прошлом уроке данные из таблицы `genre` выгружали так: 

```SQL
SELECT *
FROM genre; 
```

Вот так писать запросы не стоит: операторы недостаточно отделены от ключевых слов. 

```SQL
Select *
From genre; 
```

Когда столбцов и таблиц будет много, написать правильный запрос будет сложнее. 

Второе правило — переносить новое ключевое слово на другую строку. Так легче понять, какие столбцы будут выгружены. 

```SQL
SELECT last_name,
       first_name,
       title
FROM staff;
```

Так выглядят основные правила для запросов. Но в разных компаниях и организациях могут быть свои рекомендации. Их лучше соблюдать, чтобы не вносить хаос в общую работу. 

Оформить запрос по всем правилам можно вручную или с помощью [SQL-форматера](https://sqlformat.org/), например SQLFormat. SQL-запрос вводят в специальное окно и на выходе получают его оформленную версию.

###Дополнительные материалы

Чем [PostgreSQL](https://habr.com/ru/post/282764/) лучше других SQL баз данных с открытым исходным кодом.