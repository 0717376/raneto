---
Title: Сетевая модель OSI
Sort: 2
---

В этом уроке вы узнаете, как преобразуются данные при взаимодействии компьютерных устройств по сети.

### Сетевые модели

Сеть состоит из множества физически или логически соединённых устройств (аппаратных средств): персональных и серверных компьютеров, принтеров, сканеров, коммутаторов, маршрутизаторов и других. Сеть позволяет всем этим устройствам обмениваться информацией.

Когда предприятия стали организовывать первые сети, каждый производитель компьютеров и сетевого оборудования разрабатывал свои собственные протоколы компьютерной коммуникации. Это значило, что взаимодействовать между собой могли только устройства одного производителя.

Производители редко договаривались использовать одни и те же протоколы. Несовместимость оборудования разных производителей вынуждала предприятия закупать необходимые устройства только у одного из них.

Предприятия это не слишком волновало до тех пор, пока у них не возникла потребность взаимодействовать с системами других предприятий. Тогда они поняли, что взаимодействие будет возможным, когда все предприятия закупят одно и то же оборудование либо когда все производители договорятся об использовании одних и тех же протоколов.

В ответ на запрос предприятий были разработаны и опубликованы две модели для всеобщего пользования:
- **Сетевая модель взаимодействия открытых систем (Open Systems Interconnection — OSI)** 

    разработана Международной организацией по стандартизации (International Organization for Standardization — ISO). Система считается открытой, если у неё есть общедоступные спецификации, соответствующие определённым стандартам взаимодействия с другими системами — например, стандартам ISO, IEC, IEEE. Открытыми системами являются, например, операционные системы.
- **Сетевая модель TCP/IP (Transmission Control Protocol/Internet Protocol — TCP/IP)** 
    
    разработана учёными в области информатики, которых называют отцами интернета: Винтоном Серфом (Vinton Cerf) и Робертом Каном (Robert Kahn). Модель получила своё название от двух протоколов: протокола управления передачей (TCP) и интернет-протокола (IP). IP формирует основу сети Интернет, а TCP был первым протоколом, разработанным для работы вместе с IP.

Сетевая модель OSI — это условный стандарт: в реальном мире не встречаются сети, построенные в строгом соответствии с ней. Она служит эталоном, то есть помогает понять внутреннее устройство реальной сети путём сопоставления её архитектуры с этой моделью.

Каждая сетевая модель описывает набор протоколов, которым производители аппаратного обеспечения и разработчики программного обеспечения должны соответствовать, чтобы их оборудование и программы были совместимы с другими элементами сети.

### Протоколы

Протоколы определяют семантические и синтаксические правила, алгоритмы, сообщения и другие механизмы, которые позволяют оборудованию и программам эффективно обмениваться данными по сети.

Каждый протокол выполняет свои функции, которые могут сильно отличаться от функций других протоколов.

Например, некоторые протоколы описывают сжатие и распаковку данных (компрессию и декомпрессию). Сжатие данных необходимо, когда важнее быстро получить менее точные данные, чем долго ждать более точные. 

В частности, протокол **JPEG (Joint Photographic Experts Group)** описывает алгоритм сжатия и распаковки графических данных — с потерями и без них. Сжатие данных с потерями означает, что после распаковки данные будут отличаться от исходных, но несущественно для их дальнейшего использования — то есть незаметно человеческому глазу.

При этом чем больше раз изображение было сжато и распаковано, скажем, при его редактировании и сохранении изменений, тем больше оно будет отличаться от исходного.

<img src="%base_url%/images/picture-is-dead_1675066070.png"/>
<br><br>

### Уровни сетевой модели OSI

Сетевые модели OSI и TCP/IP описывают часть элементов архитектуры и их связи. Элементы архитектуры сети в обеих моделях называют уровнями (Layers).

В сетевой модели OSI выделяют семь уровней:
1. Физический (Physical layer).
1. Канальный (Data link layer), или уровень передачи данных.
1. Сетевой (Network layer).
1. Транспортный (Transport layer).
1. Сеансовый (Session layer).
1. Представления (Presentation layer).
1. Прикладной (Application layer)

Уровни изображают один над другим, первый — в самом низу. Каждый уровень выполняет определённые функции для вышестоящего и нижестоящего уровней. Это значит, что прикладной уровень может взаимодействовать с уровнем представления, уровень представления — с прикладным и сеансовым, сеансовый — с уровнем представления и с транспортным и так далее.

Каждому уровню сетевой модели соответствует набор протоколов. Уровни выполняют функции в соответствии с этими протоколами.

<img src="%base_url%/images/CA-09-Sprint-001-01_1675066121.png"/>
<br><br>

#### Прикладной (7)

Прикладной уровень взаимодействует с приложением и уровнем представления.

Приложение располагается над сетевой моделью OSI, а прикладной уровень выполняет функцию интерфейса между приложением и сетевой моделью.

Вот основные протоколы прикладного уровня:
- Протокол передачи файлов (File Transfer Protocol — FTP).
- Простой протокол передачи почты (Simple Mail Transfer Protocol — SMTP).
- Почтовый протокол (Post Office Protocol — POP).
- Протокол доступа к интернет-сообщениям (Internet Message Access Protocol — IMAP).
- Протокол передачи гипертекста (Hypertext Transfer Protocol — HTTP).
- Протокол передачи гипертекста через SSL (Hypertext Transfer Protocol over Secure Socket Layer — HTTPS).
- Система доменных имён (Domain Name System — DNS).
- Безопасная оболочка (Secure Shell — SSH).

#### Представления (6)

Уровень представления взаимодействует с прикладным и сеансовым уровнями.

Он выполняет следующие функции:
- Преобразование данных.
- Сжатие и распаковка данных (компрессия и декомпрессия).
- Шифрование и дешифрование данных.

Основные протоколы уровня представления:
- Объединённая группа экспертов по фотографии (Joint Photographic Experts Group — JPEG).
- Американский стандартный код для обмена информацией (American Standard Code for Information Interchange — ASCII).
- Цифровой интерфейс музыкальных инструментов (Musical Instrument Digital Interface — MIDI).
- Экспертная группа по движущимся изображениям (Moving Picture Experts Group — MPEG).
- Формат файла изображения с тегами (Tagged Image File Format — TIFF).
- Формат обмена графикой (Graphics Interchange Format — GIF).

#### Сеансовый (5)

Сеансовый уровень взаимодействует с уровнем представления и транспортным.

**Сеансом (Session)** называют временный интерактивный обмен информацией между двумя или более устройствами.

Сеансовый уровень отвечает за управление сеансами между устройствами. Управление включает в себя создание сеанса, синхронизацию связи между устройствами и прекращение сеанса.

Основные протоколы сеансового уровня:
- Язык структурированных запросов (Structured Query Language — SQL).
- Базовая сетевая система ввода/вывода (Network Basic Input/Output System — NetBIOS).

#### Транспортный (4)

Транспортный уровень взаимодействует с сеансовым и сетевым уровнями.

Он отвечает за связь между процессами приложений, работающих на разных компьютерах.

Основные протоколы транспортного уровня:
- Протокол управления передачей (Transmission Control Protocol — TCP).
- Протокол пользовательских датаграмм (User Datagram Protocol — UDP).

#### Сетевой (3)

Сетевой уровень взаимодействует с транспортным и канальным уровнями.

Он отвечает за логическую адресацию устройств через использование IP-адресов, а также за выбор маршрута для передаваемых данных — то есть за то, как они попадают с компьютера А на компьютер В.

Основные протоколы сетевого уровня:
- Интернет-протокол (Internet Protocol — IP).
- Межсетевой обмен пакетами (Internetwork Packet Exchange — IPX).

#### Канальный (2)

Канальный уровень взаимодействует с сетевым и физическим уровнями.

В процессе передачи данных могут произойти потери и искажения данных. Канальный уровень помогает минимизировать ущерб от ненадёжности сетей. Он отвечает за обнаружение и устранение ошибок при передаче данных.

Основные протоколы канального уровня:
- Управление логическим каналом (Logical Link Control — LLC).
- Управление доступом к среде (Media Access Control — MAC).

#### Физический (1)

Физический уровень взаимодействует с канальным уровнем и **средой передачи данных (Data Transmission Medium).**

Среда передачи данных располагается под сетевой моделью OSI, а физический уровень выполняет функцию интерфейса между сетевой моделью и средой.

На этом уровне данные преобразуются в набор битов (Bits) — минимальных единиц информации.

Для передачи от одного компьютера к другому данные в двоичной форме преобразуются в сигналы (Signals).

Тип сигнала зависит от типа среды передачи данных, соединяющей компьютеры. Это могут быть:
- Радиоволны.
- Медные электрические кабели.
- Инфракрасные лучи.
- Оптоволоконные кабели.

Например, среда передачи данных, построенная с использованием технологии Wi-Fi, передаёт сигналы в виде радиоволн. Преобразованием двоичных данных в радиоволны и наоборот занимаются Wi-Fi-адаптеры.

Основные протоколы физического уровня:
- Bluetooth.
- Ethernet.
- Wi-Fi.

<img src="%base_url%/images/CA-09-Sprint-001-02_1675252668.png"/>
<br><br>

### Протоколы по уровням

<img src="%base_url%/images/CA-09-Sprint-001-07_1675259296.png"/>
<br><br>

### Верхние и нижние уровни

Уровни 5, 6, 7 сетевой модели OSI называют верхними — с ними работают разработчики. Остальные четыре уровня (1, 2, 3, 4) называют нижними — с ними работают сетевые инженеры. При этом:
- Протоколы верхних уровней регулируют взаимодействие программ.
- Протоколы нижних, за исключением транспортного уровня, регулируют взаимодействие оборудования.
- Протоколы транспортного уровня регулируют взаимодействие и программ, и оборудования одновременно.

Например, TCP, расположенный на транспортном уровне, используется для передачи принтеру задания на печать документа. ТСР обеспечивает надёжную передачу данных — это значит, что принтер получит необходимые для печати данные в полном объёме. 

Когда пользователь отправляет документ на печать, приложение на его компьютере устанавливает ТСР-соединение с принтером, отправляет данные программному обеспечению принтера и закрывает соединение, как только задание отправлено.

Принтер принимает данные и использует возможности исправления ошибок, предлагаемые ТСР. Если при печати возникла ошибка, например закончился тонер, то принтер отправляет соответствующее сообщение, используя установленное ТСР-соединение. Это гарантирует, что пользователь получит уведомление о любой проблеме, мешающей печати.

<img src="%base_url%/images/CA-09-Sprint-001-13_1675066372.png"/>
<br><br>

### Преобразование данных

Компьютеры не передают друг другу данные в том виде, в котором показывают их пользователям.

На каждом уровне сетевой модели OSI данные преобразуются в определённую форму:
- **Данные (Data)** — на прикладном уровне, уровне представления и сеансовом уровне.
- **Сегменты (Segments)** — на транспортном уровне.
- **Пакеты (Packets)** — на сетевом уровне.
- **Кадры (Frames)** — на канальном уровне.
- **Биты (Bits)** — на физическом уровне.

<img src="%base_url%/images/CA-09-Sprint-001-03_1675066962.png"/>
<br><br>

Каждый уровень выполняет важные для передачи и преобразования данных действия. Например, обнаруживает и исправляет ошибки, контролирует доступ, шифрует данные.

Процесс преобразования данных сверху вниз называют **инкапсуляцией (Encapsulation)**, а снизу вверх — **декапсуляцией (Decapsulation)**.

<img src="%base_url%/images/CA-09-Sprint-001-05_1675066985.png"/>
<br><br>

Инкапсуляция похожа на упаковку предмета в коробочку. Последовательный процесс инкапсуляции напоминает то, как предмет кладут в одну коробочку, эту коробочку кладут в другую коробочку и так далее.

Соответственно, декапсуляция похожа на постепенную распаковку предмета из множества вложенных друг в друга коробочек.

<img src="%base_url%/images/CA-09-Sprint-001-06_1675066999.png"/>
<br><br>

Системному аналитику нет необходимости понимать все нюансы преобразования данных. Достаточно быть знакомым с сетевой моделью OSI, чтобы, опираясь на неё, быть способным понять архитектуру сети.

### Передача данных

Процесс передачи данных между устройствами упрощённо выглядит так:
- Устройство 1 преобразует данные в сигналы. Преобразование происходит последовательно, начиная с прикладного уровня и заканчивая физическим (сверху вниз).
- Устройство 1 передаёт сигнал через среду передачи данных.
- Устройство 2 принимает сигнал через среду передачи данных.
- Устройство 2 преобразует принятые сигналы в данные. Преобразование происходит последовательно, начиная с физического уровня и заканчивая прикладным (снизу вверх).

<img src="%base_url%/images/CA-09-Sprint-001-02_1675067026.png"/>
<br><br>

Чтобы лучше понять процессы преобразования данных и их передачи между устройствами, воспользуемся метафорой.

Представьте, что двое учёных из разных стран работают над одним научным проектом. Они говорят на разных языках, но пишут проект на английском. Поэтому у каждого из них есть переводчик с их языка на английский. Учёные передают свои идеи переводчикам, которые, в свою очередь, общаются между собой по телефону.

Учёные делятся друг с другом идеями о проекте — они взаимодействуют, но не напрямую. При этом каждый учёный напрямую взаимодействует со своим переводчиком, передавая ему идеи.

Переводчики также не взаимодействуют друг с другом напрямую — они передают голосовыми связками и принимают барабанными перепонками звуковые колебания через телефон.

Учёные в этой метафоре олицетворяют верхние уровни OSI (5, 6, 7), переводчики — нижние (1, 2, 3, 4), а телефонная линия — среду передачи данных.

<img src="%base_url%/images/CA-09-Sprint-001-14_1675175156.png"/>
<br><br>

Многоуровневая архитектура сети упрощает процесс её разработки. Представьте, что учёные изобрели новый тип среды передачи данных между компьютерами — воздушно-капельный.

Важно ли, чтобы протоколы, находящиеся, например, на уровне представления, знали об этом новом типе среды? Вряд ли это важно, поскольку со средой передачи данных взаимодействует только физический уровень.

Если бы не было уровней, представителям IT-индустрии пришлось бы переделывать все протоколы, оборудование и программы, использующие их, каждый раз, когда учёные изобретают новый тип среды передачи данных.

### Подведём итоги

**Сетевая модель OSI** — это представление архитектуры сети, направленное на моделирование процесса передачи данных между устройствами.

Сетевая модель OSI состоит из семи уровней (слоёв):
- Физический.
- Канальный (передачи данных).
- Сетевой.
- Транспортный.
- Сеансовый.
- Представления.
- Прикладной (приложений).

Когда одно устройство хочет передать данные другому, оно последовательно преобразует их в сигналы, начиная с прикладного уровня и заканчивая физическим (сверху вниз). Получив сигналы, другое устройство последовательно преобразует их в данные, начиная с физического уровня и заканчивая прикладным (снизу вверх).

Процесс преобразования данных сверху вниз называется инкапсуляцией, а снизу вверх — декапсуляцией.

Сетевая модель OSI описывает для каждого уровня множество компьютерных протоколов, которые устанавливают правила обмена данными между устройствами в сети.

